#

# Build configuration for Circle CI

#



general:


    artifacts:

        - /home/ubuntu/Mini-Cap-AnyMemo/app/build/outputs/apk/

     post:
             - cp -r /usr/local/bin/git $HOME/git

machine:

    environment:

        ANDROID_HOME: /usr/local/android-sdk-linux



dependencies:

    cache_directories:
      - $HOME/git



    override:

        - ( sleep 5 && while [ 1 ]; do sleep 1; echo y; done ) | android update sdk --no-ui --all --filter “android-25,build-tools-26.0.2,platform-tools,extra-google-m2repository,extra-android-m2repository,extra-android-support,extra-google-google_play_services”


        - ANDROID_HOME=/usr/local/android-sdk-linux ./gradlew dependencies
     post:
         - sudo cp -r $HOME/git /usr/local/bin/git


test:

    override:



        -./gradlew assembleRelease
       - ./gradlew installFreeDebugTest
       - ./gradlew connectedInstrumentTestFreeDebug